<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AI eBook & Audiobook Library</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 2em; background: #f5f5f5; }
        h1 { color: #2c3e50; }
        p.intro { max-width: 700px; font-size: 1.1em; color: #444; }
        .book-card { margin-bottom: 1em; background: white; padding: 1em; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        button, a { margin-top: 0.5em; display: inline-block; }
    </style>
</head>
<body>
    <h1>ðŸ“š Welcome to the AI-Powered eBook & Audiobook Library</h1>
    <p class="intro">
        This web application showcases the fusion of artificial intelligence and software development.
        Users can explore short stories generated by AI, download them as eBooks, or listen to them as audiobooks.
        This tool is designed for educational exploration of Python, Flask, web development, and the ethical use of AI in digital storytelling.
    </p>
    <hr>

    {% for ebook in ebooks %}
    <div class="book-card">
        <h3>{{ ebook.replace('.txt', '').replace('_', ' ') }}</h3>
        <form action="/generate_audio" method="post">
            <input type="hidden" name="ebook" value="{{ ebook }}">
            <button type="submit">Convert to Audiobook</button>
        </form>
        <a href="{{ url_for('download_file', filename=ebook) }}">ðŸ“˜ Download eBook</a>
    </div>
    {% endfor %}

    {% if audio_file %}
    <hr>
    <h2>ðŸŽ§ Audiobook Preview:</h2>
    <audio controls>
        <source src="{{ url_for('static', filename='audio/' + audio_file.split('/')[-1]) }}" type="audio/mp3">
        Your browser does not support the audio element.
    </audio>
    {% endif %}
</body>
</html>
